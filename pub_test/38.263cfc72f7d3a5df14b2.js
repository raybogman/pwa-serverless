/*!
 * @version v10.0.0-52-gbc6bd9fde-dev
 * 
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{GyKt:function(e,n,a){"use strict"
a.r(n),a.d(n,"default",function(){return x})
var t=a("MVZn"),o=a.n(t),r=a("q1tI"),i=a.n(r),l=a("dDsW"),s=a("kriW"),c=a("Ty5D"),m=a("o0o1"),u=a.n(m),g=a("yXPU"),d=a.n(g),f=a("J4zp"),b=a.n(f),p=a("VX74"),I=a("FITH"),P=a("y1Xp"),w=a("ACyH"),h=a("gpca"),j=a("UPvi"),O=a("DUu4"),C=a("LboF"),v=a.n(C),y=a("ujwO"),E=a.n(y),_={injectType:"singletonStyleTag",insert:"head",singleton:!0},L=(v()(E.a,_),E.a.locals||{}),M=a("VkAN"),S=a.n(M)
function _templateObject(){var e=S()(["\n    fragment AccountInformationPageFragment on Customer {\n        id\n        firstname\n        lastname\n        email\n    }\n"])
return _templateObject=function _templateObject(){return e},e}var N=Object(p.gql)(_templateObject())
function _templateObject3(){var e=S()(["\n    query GetCustomerInformation {\n        customer {\n            id\n            ...AccountInformationPageFragment\n        }\n    }\n    ","\n"])
return _templateObject3=function _templateObject3(){return e},e}function _templateObject2(){var e=S()(['\n    mutation ChangeCustomerPassword(\n        $currentPassword: String!\n        $newPassword: String!\n    ) {\n        changeCustomerPassword(\n            currentPassword: $currentPassword\n            newPassword: $newPassword\n        ) @connection(key: "changeCustomerPassword") {\n            id\n            email\n        }\n    }\n'])
return _templateObject2=function _templateObject2(){return e},e}function accountInformationPage_gql_templateObject(){var e=S()(['\n    mutation SetCustomerInformation($customerInput: CustomerInput!) {\n        updateCustomer(input: $customerInput)\n            @connection(key: "updateCustomer") {\n            customer {\n                id\n                ...AccountInformationPageFragment\n            }\n        }\n    }\n    ',"\n"])
return accountInformationPage_gql_templateObject=function _templateObject(){return e},e}var k={mutations:{setCustomerInformationMutation:Object(p.gql)(accountInformationPage_gql_templateObject(),N),changeCustomerPasswordMutation:Object(p.gql)(_templateObject2())},queries:{getCustomerInformationQuery:Object(p.gql)(_templateObject3(),N)}},V=i.a.lazy(function(){return Promise.all([a.e(0),a.e(1),a.e(30)]).then(a.bind(null,"+jtD"))}),x=function AccountInformationPage(e){var n=Object(P.a)(L,e.classes),a=function useAccountInformationPage(e){var n,a=e.mutations,t=a.setCustomerInformationMutation,o=a.changeCustomerPasswordMutation,i=e.queries.getCustomerInformationQuery,l=Object(I.b)(),s=b()(l,1)[0].isSignedIn,c=Object(r.useState)(!1),m=b()(c,2),g=m[0],f=m[1],P=Object(r.useState)(!1),w=b()(P,2),h=w[0],j=w[1],O=Object(r.useState)(!1),C=b()(O,2),v=C[0],y=C[1],E=Object(p.useQuery)(i,{skip:!s,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),_=E.data,L=E.error,M=Object(p.useMutation)(t),S=b()(M,2),N=S[0],k=S[1],V=k.error,x=k.loading,D=Object(p.useMutation)(o),z=b()(D,2),q=z[0],B=z[1],A=B.error,F=B.loading,J=Object(r.useMemo)(function(){if(_)return{customer:_.customer}},[_]),T=Object(r.useCallback)(function(){f(!0)},[f]),U=Object(r.useCallback)(function(){j(!1),f(!1)},[j]),Q=Object(r.useCallback)(function(){j(!0),y(!1)},[j]),W=Object(r.useCallback)((n=d()(u.a.mark(function _callee(e){var n,a,t,o,r
return u.a.wrap(function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(n=e.email,a=e.firstname,t=e.lastname,o=e.password,r=e.newPassword,i.prev=1,n=n.trim(),a=a.trim(),t=t.trim(),o=o.trim(),r=r?r.trim():r,J.customer.email===n&&J.customer.firstname===a&&J.customer.lastname===t){i.next=10
break}return i.next=10,N({variables:{customerInput:{email:n,firstname:a,lastname:t,password:o}}})
case 10:if(!o||!r){i.next=13
break}return i.next=13,q({variables:{currentPassword:o,newPassword:r}})
case 13:U(!1),i.next=20
break
case 16:return i.prev=16,i.t0=i.catch(1),y(!0),i.abrupt("return")
case 20:case"end":return i.stop()}},_callee,null,[[1,16]])})),function(e){return n.apply(this,arguments)}),[N,U,q,J])
return{handleCancel:U,formErrors:v?[V,A]:[],handleSubmit:W,handleChangePassword:T,initialValues:J,isDisabled:x||F,isUpdateMode:h,isSignedIn:s,loadDataError:L,shouldShowNewPassword:g,showUpdateMode:Q}}(o()({},k)),t=a.handleCancel,m=a.formErrors,g=a.handleChangePassword,f=a.handleSubmit,C=a.initialValues,v=a.isDisabled,y=a.isSignedIn,E=a.isUpdateMode,_=a.loadDataError,M=a.shouldShowNewPassword,S=a.showUpdateMode,N=Object(l.a)().formatMessage
if(!y)return i.a.createElement(c.a,{to:"/"})
var x=_?i.a.createElement(h.a,null,i.a.createElement(s.a,{id:"accountInformationPage.errorTryAgain",defaultMessage:"Something went wrong. Please refresh and try again."})):null,D=null
if(!C)return O.a
var z=C.customer,q="".concat(z.firstname," ").concat(z.lastname)
return D=i.a.createElement(r.Fragment,null,i.a.createElement("div",{className:n.accountDetails},i.a.createElement("div",{className:n.lineItemsContainer},i.a.createElement("span",{className:n.nameLabel},i.a.createElement(s.a,{id:"global.name",defaultMessage:"Name"})),i.a.createElement("span",{className:n.nameValue},q),i.a.createElement("span",{className:n.emailLabel},i.a.createElement(s.a,{id:"global.email",defaultMessage:"Email"})),i.a.createElement("span",{className:n.emailValue},z.email),i.a.createElement("span",{className:n.passwordLabel},i.a.createElement(s.a,{id:"global.password",defaultMessage:"Password"})),i.a.createElement("span",{className:n.passwordValue},"***********")),i.a.createElement("div",{className:n.editButtonContainer},i.a.createElement(w.a,{className:n.editInformationButton,disabled:!1,onClick:S,priority:"normal"},i.a.createElement(s.a,{id:"global.editButton",defaultMessage:"Edit"})))),i.a.createElement(r.Suspense,{fallback:null},i.a.createElement(V,{formErrors:m,initialValues:z,isDisabled:v,isOpen:E,onCancel:t,onChangePassword:g,onSubmit:f,shouldShowNewPassword:M}))),i.a.createElement("div",{className:n.root},i.a.createElement(j.b,null,N({id:"accountInformationPage.titleAccount",defaultMessage:"Account Information"})),i.a.createElement("h1",{className:n.title},i.a.createElement(s.a,{id:"accountInformationPage.accountInformation",defaultMessage:"Account Information"})),x||D)}},Y9xl:function(e,n,a){(n=e.exports=a("JPst")(!1)).push([e.i,".message-root-3-g {\n    color: rgb(var(--venia-global-color-text));\n    font-size: 0.875rem;\n    font-weight: 400;\n    line-height: 1rem;\n    padding: 0.625rem 0.125rem 0.125rem;\n}\n\n.message-root-3-g:empty {\n    display: none;\n}\n\n.message-root_error-1hZ {\n    color: rgb(var(--venia-global-color-error));\n    font-weight: var(--venia-global-fontWeight-semibold);\n}\n",""]),n.locals={root:"message-root-3-g",root_error:"message-root_error-1hZ message-root-3-g"}},gpca:function(e,n,a){"use strict"
var t=a("q1tI"),o=a.n(t),r=a("dDsW"),i=a("17x9"),l=a("LboF"),s=a.n(l),c=a("Y9xl"),m=a.n(c),u={injectType:"singletonStyleTag",insert:"head",singleton:!0},g=(s()(m.a,u),m.a.locals||{}),d=a("y1Xp"),f=function Message(e){var n,a=e.children,t=e.classes,i=e.fieldState,l=Object(r.a)().formatMessage,s=i.error,c=Object(d.a)(g,t),m=s?c.root_error:c.root
return s&&(n=l({id:s.id,defaultMessage:s.defaultMessage},{value:s.value})),o.a.createElement("p",{className:m},n||a)}
n.a=f
f.defaultProps={fieldState:{}},f.propTypes={children:i.node,classes:Object(i.shape)({root:i.string,root_error:i.string}),fieldState:Object(i.shape)({error:Object(i.shape)({id:i.string,defaultMessage:i.string,value:Object(i.oneOfType)([i.number,i.string])})})}},ujwO:function(e,n,a){(n=e.exports=a("JPst")(!1)).i(a("ysJs"),""),n.push([e.i,".accountInformationPage-root-3dg {\n    display: grid;\n    padding: 2.5rem 3rem;\n    row-gap: 2rem;\n}\n\n.accountInformationPage-title-Uli {\n    justify-self: center;\n    font-family: var(--venia-global-fontFamily-serif);\n    font-weight: var(--venia-global-fontWeight-bold);\n}\n\n.accountInformationPage-accountDetails-1eC {\n    display: grid;\n    row-gap: 2rem;\n    grid-template-columns: 1fr 1fr 1fr;\n}\n\n.accountInformationPage-lineItemsContainer-3bf {\n    grid-column: 1 / span 1;\n    display: grid;\n    gap: 1rem;\n    grid-template-columns: 1fr 1fr;\n    line-height: 1.5rem;\n}\n\n.accountInformationPage-lineItemLabel-1zl {\n    font-weight: var(--venia-global-fontWeight-bold);\n}\n\n.accountInformationPage-nameLabel-1tz,\n.accountInformationPage-emailLabel-1QG,\n.accountInformationPage-passwordLabel-3EB {\n}\n\n.accountInformationPage-nameValue-3JI,\n.accountInformationPage-emailValue-JQF,\n.accountInformationPage-passwordValue-3YW {\n}\n\n.accountInformationPage-editButtonContainer-1ZN {\n    grid-column: 1 / span 1;\n    text-align: center;\n}\n\n.accountInformationPage-editInformationButton-34w {\n}\n\n@media (min-width: 961px) {\n    .accountInformationPage-nameLabel-1tz,\n    .accountInformationPage-emailLabel-1QG,\n    .accountInformationPage-passwordLabel-3EB {\n    }\n}\n\n@media (max-width: 960px) {\n    .accountInformationPage-accountDetails-1eC {\n        grid-template-columns: 1fr;\n    }\n\n    .accountInformationPage-lineItemsContainer-3bf {\n        grid-template-columns: 1fr;\n        grid-gap: 0.75rem;\n    }\n}\n",""]),n.locals={root:"accountInformationPage-root-3dg",title:"accountInformationPage-title-Uli",accountDetails:"accountInformationPage-accountDetails-1eC",lineItemsContainer:"accountInformationPage-lineItemsContainer-3bf",lineItemLabel:"accountInformationPage-lineItemLabel-1zl",nameLabel:"accountInformationPage-nameLabel-1tz accountInformationPage-lineItemLabel-1zl accountInformationPage-lineItemLabel-1zl",emailLabel:"accountInformationPage-emailLabel-1QG accountInformationPage-lineItemLabel-1zl accountInformationPage-lineItemLabel-1zl",passwordLabel:"accountInformationPage-passwordLabel-3EB accountInformationPage-lineItemLabel-1zl accountInformationPage-lineItemLabel-1zl",nameValue:"accountInformationPage-nameValue-3JI",emailValue:"accountInformationPage-emailValue-JQF",passwordValue:"accountInformationPage-passwordValue-3YW",editButtonContainer:"accountInformationPage-editButtonContainer-1ZN",editInformationButton:"accountInformationPage-editInformationButton-34w "+a("ysJs").locals.root_normalPriority}}}])
